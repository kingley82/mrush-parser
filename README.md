# mrush-parser
Parser for https://mrush.mobi/

# RU Documentation
Здесь находится документация к парсеру мобильной игры [Разрушители](https://mrush.mobi/)  
## Установка Python (windows)
1. Перейдите по ссылке https://www.python.org/downloads и скачайте версию Python, которая начинается с 3 (например 3.10.2)
2. Запустите exe файл
3. В появившемся окне, внизу, поставьте галочку на пункте "Add to PATH" и выберите полную установку
## Установка Python (linux-ubuntu)
1. Откройте терминал
2. Впишите следующие команды
```
sudo apt update
sudo apt install python3.9
```
## Установка стороннего ПО
1. Перейдите по ссылке https://www.sublimetext.com/3
2. Скачайте редактор кода для вашей ОС
## Скачивание парсера
1. Создайте папку куда будете сохранять все проекты
2. Скачайте файлы из репозитория
    ### Через GIT
    1. Скачайте [Git CLI](https://git-scm.com/downloads)
    2. Введите в консоль/терминал (предварительно перейдите в созданную директорию с помощью команды cd)
    ```
    git clone https://github.com/kingley82/mrush-parser
    ```
    ### Через GitHib Desktop
    1. Откройте GitHub Desktop
    2. Выберите Clone the repository from the Internet
    3. Выберите пункт URL и введите
    ```
    https://github.com/kingley82/mrush-parser
    ```
    ### ZIP файлом
    1. На странице проекта в GitHub выберите Code>Download ZIP
    2. Распакуйте архив

## Инициализация проекта
В скачанной директории должен быть файл "mrush.py". В этой же директории создайте .py файл с любым названием. В этом файле можно начать писать код.  
Первым делом войдем в аккаунт
```python
import mrush #Здесь мы импортируем нашу библиотеку-парсер
mrush = mrush.Client("nickname", "password") #Здесь мы инициализируем класс, первым параметром передаем никнейм в игре, вторым ваш пароль
```
## Узнаем информацию из профиля
#### Узнаем информацию из своего профиля
```python
import mrush
mrush = mrush.Client("nickname", "password")
profile_info = mrush.profile()
```
В переменной profile_info будет находится словарь со следующими данными:
  
**name** - Никнейм игрока  
**level** - Уровень игрока  
**status** - Статус игрока  
**exp** - Опыт игрока  
**exp_max** - Сколько опыта нужно для перехода на следующий уровень  
**valor_level** - Уровень доблести  
**strength** - Сила игрока  
**health** - Здоровье игрока  
**defense** - Защита игрока  
**gold** - Золото игрока (не работает в чужих профилях)  
**silver** - Серебро игрока (не работает в чужих профилях)  
**player_id** - ID игрока  
  
Если хотим узнать информацию из чужого профиля, то надо указать ID игрока
```python
mrush.profile("11701199")
```
## Узнать рейтинг лучших
В этой функции мы узнаем рейтинг лучших в одной из указанных категорий:  
1. Игроки
2. Кланы
3. Колизей
4. Доблесть
5. Общая
6. Вторжение
7. Турнир
8. Осада
9. Престол
10. Турнир кланов
11. Войны
12. Остров сокровищ  
Для получения данных нужно прописать следующий код
```python
import mrush
mrush = mrush.Client("nickname", "password")
rating = mrush.best(pages=1, category=1) #Где pages это кол-во страниц, которое хотим спарсить, а category это одна из вышеперечисленных категорий
```
На выход мы получим словарь, где на каждую страницу будет список из словарей. В этих словарях лежат следующие данные:  
  
**position** - Место игрока в топе  
**name** - Никнейм игрока  
**rating** - Рейтинг игрока  
## Узнать уровни тренировки
В этой функции мы узнаем уровни нашей тренировки для трех аттрибутов (сила, здоровье и защита).  
Для получения данных нужно прописать следующий код:
```python
import mrush
mrush = mrush.Client("nickname", "password")
train = mrush.train()
```
В переменной train будет словарь с бонусами (**bonus**), уровнями (**level**) всех аттрибутов, а также цена (**cost**) их улучшения и валюта (**currency**) (серебро/золото)
## Узнать задания
В этой функции мы можем узнать задания (сюжетные/ежедневные)  
Для получения данных нужно прописать следующий код:
```python
import mrush
mrush = mrush.Client("nickname", "password")
tasks = mrush.task(category=1) #Где category это раздел заданий (1 для сюжетных, 2 для ежедневных)
```
В переменной tasks будет словарь, в котором будут словари с данными каждого задания, а именно:  
  
**task** - Текст задания  
**level** - Прогресс задания  
**level_max** - Необходимый прогресс для выполнения
## Узнать информацию о клане
### ВНИМАНИЕ! Данная функция работает неккоректно
В этой функции мы можем узнать информацию о клане
```python
import mrush
mrush = mrush.Client("nickname", "password")
clan_info = mrush.clan(id="id") #Где id это ID клана
```
В переменной clan_info будет словарь со следующими данными:  
  
**name** - Имя клана  
**description** - Описание клана  
**founded** - Дата основания  
**exp** - Опыт клана  
**buildings_percent** - Сколько у клана построек (в процентах)  
**academy_level** - Уровень академии  
**archives_level** - Уровень архихов  
**magical_shop_level** - Уровень магической лавки  
**trophy_room_level** - Уровень трофейного зала  
**armory_level** - Уровень оружейной  
**obelisk_of_valor_level** - Уровень обелиска доблести  
**house_of_herolds_level** - Уровень дома герольдов  
**military_council_level** - Уровень военного совета  
## Узнать содержимое сумки
В этой функции мы можем узнать содержимое сумки
```python
import mrush
mrush = mrush.Client("nickname", "password")
chest_items = mrush.chest()
```
В переменной chest_items будет словарь со словарями. В этих словарях будут следующие данные:  
  
**item** - Название предмета  
**rarity** - Редкость предмета  
**level** - Уровень предмета  
**level_max** - Макс. уровень предмета
## Узнать снаряжение игрока
В этой функции мы можем узнать снаряжение игрока или свое
```python
import mrush
mrush = mrush.Client("nickname", "password")
gear_info = mrush.gear()
```
Мы также можем узнать снаряжение игрока, если укажем его ID
```python
gear_info = mrush.gear("11701199")
```
В переменной gear_info будет словарь со словарями. В этих словарях будет содержаться информация о определенном предмете, а именно:  
  
**name** - Название предмета  
**rarity** - Редкость предмета  
**level** - Уровень предмета  
**level_max** - Макс. уровень предмета  
**rune** - Руна предмета  
**gem** - Самоцвет предмет  
**difference** - Разница между вашим предметом (работает только с другим игроком, и только если у него есть предмет лучше вашего)  
**sharpening** - Заточка предмета
## Узнать расписание битв
В этой функции мы можем узнать расписание битв
```python
import mrush
mrush = mrush.Client("nickname", "password")
schedule_info = mrush.schedule()
```
В переменной schedule_info будет словарь со следующими данными:  
  
**current_time** - Текущее время (МСК)  
**tournament** - Время до турнира  
**invasion** - Время до вторжения  
**clanTourney** - Время до турнира кланов  
**army** - Время до войны кланов  
**clanSurvivor** - Время до острова сокровищ  
**tower** - Время до осады башен  
**throne** - Время до битвы за престол
## Узнать информацию о колизее
В этой функции мы можем узнать информацию о колизее
```python
import mrush
mrush = mrush.Client("nickname", "password")
coliseum_info = mrush.coliseum()
```
В переменной coliseum_info будет словарь со следующими данными:  
  
**rating** - Ваш рейтинг в колизее  
**league** - Ваша лига в колизее  
**season_end** - Время до конца сезона
